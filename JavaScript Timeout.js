let TravelTimes = 1800; // 300 = 5 min // 1800 = 30 min function setIntervalTime() { console.log(TravelTimes); var minute = Math.floor(TravelTimes / 60); var reset_seconds = TravelTimes % 60; var Timeline = minute.toString().padStart(2,'0') + ':' + reset_seconds.toString().padStart(2,'0'); console.log(Timeline); TravelTimes--; if (TravelTimes <= 299) { // Show modal console.log("Show dialog:" + TravelTimes); $('#ModalTimeout').modal('show'); document.getElementById('modal-expire').innerHTML = Timeline; } if(TravelTimes == -1){ console.log("Time out"); window.location = "http://mth-vm-hrweb1/mentor-management/pages/4.signout"; clearIntervalTime(TravelTimes); } } var setTime = setInterval(setIntervalTime, 1000) function clearIntervalTime(IsTime) { TravelTimes = IsTime; clearInterval(setTime, 1000); setTime = setInterval(setIntervalTime, 1000); } $('#btnResetTime').click(function(){ $('#ModalTimeout').modal('hide'); });